# ======================================================
# üåç COMMON SETTINGS (shared by all microservices)
# ======================================================

spring.datasource.url=jdbc:mysql://localhost:3306/currency_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=true

management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.info.env.enabled=true

spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.cache.redis.time-to-live=60000
spring.cache.redis.cache-null-values=false
spring.sql.init.mode=always


# ======================================================
# üß≠ ADMIN SERVER CONFIGURATION
# ======================================================
---
spring.config.activate.on-profile=admin
spring.application.name=AdminServer
server.port=1111

eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false


# ======================================================
# üõ∞Ô∏è EUREKA SERVER CONFIGURATION
# ======================================================
---
spring.config.activate.on-profile=eureka
spring.application.name=EurekaServer
server.port=8761

eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false


# ======================================================
# üí± CURRENCY EXCHANGE SERVICE CONFIGURATION
# ======================================================
---
spring.config.activate.on-profile=dev
spring.application.name=MicrservicesCurrencyExchange
server.port=8001

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
spring.sql.init.mode=always

spring.boot.admin.client.url=http://localhost:1111


# ======================================================
# üí∞ CURRENCY CONVERSION SERVICE CONFIGURATION
# ======================================================
---
spring.config.activate.on-profile=conversion
spring.application.name=MicrservicesCurrencyProject
server.port=8002

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
spring.sql.init.mode=always

spring.boot.admin.client.url=http://localhost:1111


# ======================================================
# üåê API GATEWAY CONFIGURATION
# ======================================================
---
spring.config.activate.on-profile=gateway
spring.application.name=ApiGateway
server.port=7777

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

spring.boot.admin.client.url=http://localhost:1111
